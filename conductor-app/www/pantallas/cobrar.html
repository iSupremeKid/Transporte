<div class="ui-field-contain">
    <label for="select-native-1">En que paradero estas:</label>
    <select id="seleccionar_paradero">
        <option value="">[ Selecciona ]</option>
    </select>
</div>
<div id="botonera">
	<button disabled class="btnCobrarParadero" id="scan">Escanear App/DNI</button>
	<h2>o</h2>
	<button disabled class="btnCobrarParadero" id="money">Cobrar</button>
</div>

<script>
	$(document).ready(function(){

		var $seleccionarParadero = $("select#seleccionar_paradero");
		var btns = $("button.btnCobrarParadero");

		$.get("http://www.rick-garcia.com/Transporte/api/listarParaderosPorTipoTransporte/1",function(response){
			var data = response.data;
			var f = "";
			for(x in data){
				f += "<option value='" + data[x].id + "'>" + data[x].nombre + "</option>";
			}
			$seleccionarParadero.append(f)
		})

		$seleccionarParadero.change(function(e){
			if($(this).val() !== ""){
				btns.removeProp("disabled")
			}else{
				btns.attr("disabled")
			}
		})

		$("button#money").click(function(e){
			e.preventDefault();

			if(!$seleccionarParadero.val()){
				alert("No haz seleccionado un paradero!");
				return;
			}
		})

		$("button#scan").click(function(e){
			e.preventDefault();

			if(!$seleccionarParadero.val()){
				alert("No haz seleccionado un paradero!");
				return;
			}

			$btn = $(this);
			cordova.plugins.barcodeScanner.scan(
		      function (result) {
				$.mobile.loading('show',{
					text: 'Procesando ...',
					textVisible: true
				});

				console.log(result);
		      },
		      function (error) {
		          alert("Error: " + error);
		      },
		      {
		          preferFrontCamera : false, // iOS and Android
		          showFlipCameraButton : false, // iOS and Android
		          showTorchButton : false, // iOS and Android
		          torchOn: false, // Android, launch with the torch switched on (if available)
		          saveHistory: true, // Android, save scan history (default false)
		          prompt : "Ubica el codigo en el centro de la camara.", // Android
		          resultDisplayDuration: 0, // Android, display scanned text for X ms. 0 
		          disableAnimations : true, // iOS
		          disableSuccessBeep: true // iOS and Android
		      }
		   );
		})
	});
</script>